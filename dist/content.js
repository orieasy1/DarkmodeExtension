(()=>{"use strict";function e(){if(document.querySelector(".darkreader--global"))return;const e=function(){const e=document.createElement("style");return e.classList.add("darkreader"),e.classList.add("darkreader--global"),e.textContent="\n  html, body {\n    background-color: #121212 !important;\n    color: #f0f0f0 !important;\n  }\n\n  * {\n    background-color: transparent !important;\n    color: #f0f0f0 !important;\n    border-color: #555 !important;\n  }\n\n  a {\n    color: #80b3ff !important;\n  }\n\n  input, textarea, select, button {\n    background-color: #1e1e1e !important;\n    color: #f0f0f0 !important;\n    border-color: #666 !important;\n  }\n\n  img, video, iframe, canvas, svg, picture, object {\n    filter: invert(100%) hue-rotate(180deg) !important;\n  }\n\n  .darkreader--revert {\n    filter: none !important;\n    background: initial !important;\n    color: initial !important;\n  }\n",e}();(document.head||document.documentElement).appendChild(e)}let t=null;let n=!1;chrome.runtime.onMessage.addListener((t,o,r)=>{var a,d;"TOGGLE_DARK_MODE"===t.type&&(n=!n,n?e():function(){const e=document.querySelector(".darkreader--global");e&&e.remove()}(),a="darkMode",d=n,chrome.storage.local.set({[a]:d}))}),(async()=>{var o;await(o="darkMode",new Promise(e=>{chrome.storage.local.get(o,t=>{e(t[o]??null)})}))&&(n=!0,await async function(){await new Promise(e=>{"interactive"===document.readyState||"complete"===document.readyState?e():document.addEventListener("DOMContentLoaded",()=>e(),{once:!0})}),e(),t||(t=new MutationObserver(t=>{let n=!1;for(const e of t)if("childList"===e.type)for(const t of Array.from(e.addedNodes))if(t.nodeType===Node.ELEMENT_NODE){const e=t;("STYLE"===e.tagName||"LINK"===e.tagName&&"stylesheet"===e.rel)&&(n=!0),e.shadowRoot&&e.shadowRoot instanceof ShadowRoot&&(n=!0)}n&&e()}),t.observe(document.documentElement||document.body,{childList:!0,subtree:!0}))}())})()})();