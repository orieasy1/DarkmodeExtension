(()=>{"use strict";function e(e){return new Promise(t=>{chrome.storage.local.get(e,n=>{t(n[e]??null)})})}function t(e){const t="ixlab-dark-style",n=document.getElementById(t);if(e&&!n){const e=document.createElement("link");e.id=t,e.rel="stylesheet",e.href=chrome.runtime.getURL("dark-mode.css"),document.head.appendChild(e)}else!e&&n&&n.remove()}function n(e){document.documentElement.style.setProperty("font-weight",e.toString())}chrome.runtime.onMessage.addListener((o,r,c)=>{"TOGGLE_DARK_MODE"===o.type&&e("darkMode").then(e=>{t(!e)}),"SET_FONT_WEIGHT"===o.type&&n(o.value)}),(async()=>{const o=await e("darkMode"),r=await e("fontWeight");o&&t(!0),r&&n(r)})()})();