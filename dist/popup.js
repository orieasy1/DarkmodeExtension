(()=>{"use strict";function e(e,t){chrome.storage.local.set({[e]:t})}function t(e){return new Promise(t=>{chrome.storage.local.get(e,n=>{t(n[e]??null)})})}function n(e){chrome.tabs.query({active:!0,currentWindow:!0},t=>{null!=t[0]?.id&&chrome.tabs.sendMessage(t[0].id,e)})}document.addEventListener("DOMContentLoaded",async()=>{const o=document.getElementById("darkModeToggle"),a=document.getElementById("fontWeightSlider"),d=await t("fontWeight");d&&a&&(a.value=String(d)),o?.addEventListener("click",async()=>{n({type:"TOGGLE_DARK_MODE"}),e("darkMode",!await t("darkMode"))}),a?.addEventListener("input",()=>{const t=Number(a.value);n({type:"SET_FONT_WEIGHT",value:t}),e("fontWeight",t)})})})();