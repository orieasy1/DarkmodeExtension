@import "_variables.less";

/*--------
    BUTTON
----------*/

.Button {
    background-color: @color-control-back;
    border: none;
    box-sizing: border-box;
    cursor: default;
    display: flex;
    flex: none;
    font-family: @font-family;
    font-size: 1em;
    min-height: 2em;
    min-width: 2em;
    outline: none;
    padding: 0.5em 0.375em;
    text-decoration: none;
    .unselectable();

    &:hover:not(.disabled) {
        background-color: @color-control-hover;
    }

    &:active:not(.disabled) {
        background-color: @color-control-active;
    }

    .wrapper {
        align-items: center;
        display: inline-flex;
        flex: none;
        flex-flow: row nowrap;
        //height: 100%;
        justify-content: center;
        //overflow: hidden;
        width: 100%;

        > span {
            flex: none;
            margin: 0 0.125em;
            pointer-events: none;

            &.hidden {
                display: none;
            }
        }
    }

    .icon {
        display: inline-block;
        height: 1em;
        width: 1em;
    }

    .text {
        color: @color-control-fore;
        display: inline-block;
        font-size: 1em;
        line-height: 1em;
    }

    &.disabled {
        .disabled();
    }
}


/*-----------
    CHECKBOX
-------------*/

.CheckBox {
    align-items: center;
    box-sizing: border-box;
    cursor: default;
    display: inline-flex;
    flex: none;
    flex-flow: row nowrap;
    font-size: 1em;
    //height: 2em; // IE
    justify-content: flex-start;
    line-height: 1em;
    min-height: 2em;
    min-width: 2em;
    //overflow: hidden;
    padding: 0 /* 0.5em*/;
    .unselectable();

    > input[type=checkbox] {
        display: none;

        &:checked + .check {
            &:before {
                background-color: @color-input-fore;
                content: "";
                display: inline-block;
                height: 0.25em;
                left: 0.125em;
                position: absolute;
                top: 0.5em;
                transform: skewY(45deg);
                width: 0.25em;
            }

            &:after {
                background-color: @color-input-fore;
                content: "";
                display: inline-block;
                height: 0.25em;
                position: absolute;
                top: 0.375em;
                transform: skewY(-45deg);
                width: 0.5em;
                left: 0.375em;
            }
        }
    }

    .check {
        background-color: @color-input-back;
        display: inline-block;
        flex: none;
        font-size: 1em;
        height: 1em;
        margin: 0.5em 0;
        position: relative;
        width: 1em;
    }

    &:hover:not(.disabled) .check {
        background-color: @color-input-active;
    }

    .text {
        color: @color-fore;
        display: inline-block;
        flex: none;
        font-size: 1em;
        line-height: 1em;
        margin-left: 0.25em;
        pointer-events: none;
    }

    &.disabled {
        .disabled();
    }
}


/*---------------
    CONTEXT MENU
-----------------*/

.ContextMenu {
    background-color: @color-back;
    margin: 0 !important;
    min-width: 12em;
    position: absolute;
}

.ContextMenuItem {
    background-color: @color-control-back;
    border: none;
    box-sizing: border-box;
    cursor: default;
    display: flex;
    flex: none;
    font-family: @font-family;
    font-size: 1em;
    min-height: 2em;
    min-width: 2em;
    outline: none;
    padding: 0.5em 0.375em;
    text-decoration: none;
    .unselectable();

    &:hover:not(.disabled) {
        background-color: @color-control-hover;
    }

    &:active:not(.disabled) {
        background-color: @color-control-active;
    }

    .wrapper {
        align-items: center;
        display: inline-flex;
        flex: none;
        flex-flow: row nowrap;
        height: 100%;
        justify-content: center;
        //overflow: hidden;
        width: 100%;
    }

    .icon {
        display: inline-block;
        height: 1em;
        width: 1em;
    }

    .text {
        color: @color-control-fore;
        flex: 1 0 auto;
        display: inline-block;
        font-size: 1em;
        line-height: 1em;
    }

    .key {
        color: @color-control-fore;
        display: inline-block;
        font-size: 1em;
        line-height: 1em;
        opacity: 0.5;
    }

    span {
        flex: none;
        margin: 0 0.125em;
        pointer-events: none;

        &.hidden {
            display: none;
        }
    }

    &.disabled {
        .disabled();
    }
}


/*-------
    HBOX
---------*/

.HBox {
    //border: 1px solid darkblue;
    box-sizing: border-box;
    display: flex;
    flex-direction: row;
    //flex: 1 0 auto;
    flex: none;

    > .flex-None {
        flex: none;
    }

    > .flex-Stretch {
        flex: 1 1 auto;
        //width: 100%; // ?
    }

    > .flex-Grow {
        flex: 1 0 auto;
    }

    > .flex-Shrink {
        flex: 0 1 auto;
    }
    // Content alignment
    &.contentAlign-Left {
        justify-content: flex-start;
    }

    &.contentAlign-Center {
        justify-content: center;
    }

    &.contentAlign-Right {
        justify-content: flex-end;
    }
    // Items alignment
    &.itemsAlign-Top {
        align-items: flex-start;
    }

    &.itemsAlign-Middle {
        align-items: center;
    }

    &.itemsAlign-Bottom {
        align-items: flex-end;
    }

    &.itemsAlign-Stretch {
        align-items: stretch;
    }
    // Items indent
    &.itemsIndent-05 > :not(.hidden) ~ :not(.hidden) {
        margin-left: 0.5em;
    }

    &.itemsIndent-1 > :not(.hidden) ~ :not(.hidden) {
        margin-left: 1em;
    }

    &.itemsIndent-2 > :not(.hidden) ~ :not(.hidden) {
        margin-left: 2em;
    }

    &.itemsIndent-4 > :not(.hidden) ~ :not(.hidden) {
        margin-left: 4em;
    }
    // Scroll bar
    &.scrollBar-None {
        overflow: hidden;
    }

    &.scrollBar-Horizontal {
        overflow-x: auto;
        overflow-y: hidden;
    }

    &.scrollBar-Vertical {
        overflow-x: hidden;
        overflow-y: auto;
    }

    &.scrollBar-Both {
        overflow: auto;
    }
    // Wrapping
    &.wrapping-NoWrap {
        flex-wrap: nowrap;
    }

    &.wrapping-Wrap {
        flex-wrap: wrap;
    }

    &.disabled {
        pointer-events: none;

        > *:not(.disabled):not(.HBox):not(.VBox) {
            opacity: 0.5;
        }
    }
}


/*--------
    LABEL
----------*/

.Label {
    align-items: center;
    color: @color-fore;
    cursor: default;
    display: inline-flex;
    //flex: 1 0 auto;
    flex: none;
    font-size: 1em;
    justify-content: center;
    line-height: 1em;
    min-height: 2em;
    //overflow: hidden;
    padding: 0 /* 0.5em*/;
    .unselectable();

    &.title {
        font-size: 1.5em;
        font-weight: lighter;
    }

    &.message {
        line-height: normal;
        white-space: pre-wrap;
    }
}


/*--------
    MODAL
----------*/

.ModalTint {
    align-items: center;
    background-color: @color-modal-tint;
    flex-flow: column nowrap;
    display: flex;
    height: 100%;
    justify-content: center;
    left: 0;
    margin: 0 !important;
    position: absolute;
    top: 0;
    width: 100%;
}

.Modal {
    background-color: @color-back;
    flex: none;
}


/*--------------
    PLACEHOLDER
----------------*/

.Placeholder {
    cursor: default;
    display: inline-block;
    flex: 1 1 auto;
    //height: 100%;
    //overflow: auto;
    //width: 100%;
    .unselectable();
}

.VBox > .Placeholder{
    height: 100%;
}

.HBox > .Placeholder{
    width: 100%;
}


/*--------------
    RADIOBUTTON
----------------*/

.RadioButton {
    align-items: center;
    box-sizing: border-box;
    cursor: default;
    display: inline-flex;
    flex: none;
    flex-flow: row nowrap;
    font-size: 1em;
    //height: 2em; // IE
    justify-content: flex-start;
    line-height: 1em;
    min-height: 2em;
    min-width: 2em;
    //overflow: hidden;
    padding: 0 /* 0.5em*/;
    .unselectable();

    input[type=radio] {
        display: none;

        &:checked + .check {
            &:before {
                background-color: @color-input-fore;
                border-radius: 0.3125em;
                content: "";
                display: inline-block;
                height: 0.625em;
                left: 0.1875em;
                position: absolute;
                top: 0.1875em;
                width: 0.625em;
            }
        }
    }

    .check {
        background-color: @color-input-back;
        border-radius: 0.5em;
        display: inline-block;
        flex: none;
        font-size: 1em;
        height: 1em;
        margin: 0.5em 0;
        position: relative;
        width: 1em;
    }

    &:hover:not(.disabled) .check {
        background-color: @color-input-active;
    }

    .text {
        color: @color-fore;
        display: inline-block;
        flex: none;
        font-size: 1em;
        line-height: 1em;
        margin-left: 0.25em;
        pointer-events: none;
    }

    &.disabled {
        .disabled();
    }
}


/*--------------
    SCROLL BARS
----------------*/

.VBox, .HBox, .TextArea {
    //
    // WebKit
    &::-webkit-scrollbar {
        background-color: transparent;
        height: 1.5em;
        width: 1.5em;
    }

    &::-webkit-scrollbar-track {
        //margin: 1em;
    }
    
    &::-webkit-scrollbar-thumb {
        background-clip: padding-box;
        background-color: @color-control-back;
        //border-left: 0.5em solid yellow;
        &:hover {
            background-color: @color-control-hover;
        }

        &:active {
            background-color: @color-control-active;
        }

        &:horizontal {
            border-top: 0.5em solid transparent;
        }

        &:vertical {
            border-left: 0.5em solid transparent;
        }
    }

    &::-webkit-scrollbar-corner {
        background-color: @color-back;
    }
    //
    // IE
    scrollbar-arrow-color: @color-control-active;
    scrollbar-track-color: @color-back;
    scrollbar-base-color: @color-control-hover;
    scrollbar-3dlight-color: @color-control-hover;
    scrollbar-highlight-color: @color-control-hover;
    scrollbar-face-color: @color-control-hover;
    scrollbar-shadow-color: @color-control-hover;
    scrollbar-darkshadow-color: @color-control-hover;
    //
    // TODO: FireFox
}


/*-----------
    TEXT BOX (and Text Area)
-------------*/

.TextBox {
    background-color: @color-input-back;
    border: none;
    box-sizing: border-box;
    color: @color-input-fore;
    flex: 1 1 auto;
    font-family: @font-family;
    font-size: 1em;
    line-height: 2em;
    min-height: 2em;
    min-width: 2em;
    outline: none;
    overflow: hidden;
    padding: 0 0 0 0.25em;
    width: 100%;

    &:hover:not(.disabled) {
        background-color: @color-input-hover;
    }

    &:focus:not(.disabled) {
        background-color: @color-input-active;
        color: @color-input-fore-active;
        outline: none;
    }

    &[readonly] {
        cursor: default;
    }

    &.disabled {
        .disabled();
    }

    &::-webkit-inner-spin-button {
        -webkit-filter: invert(100%);
    }
}

.TextArea {
    line-height: normal;
    overflow: auto;
    padding: 0.25em;
    resize: none;
}

// Placeholder

&::-webkit-input-placeholder { /* WebKit browsers */
    color: @color-input-fore-placeholder;
}

&::-moz-placeholder { /* Mozilla Firefox 19+ */
    color: @color-input-fore-placeholder;
    opacity: 1;
}

&:-ms-input-placeholder { /* Internet Explorer 10+ */
    color: @color-input-fore-placeholder;
}


/*----------------
    TOGGLE BUTTON
------------------*/

.ToggleButton {
    align-items: center;
    background-color: @color-control-back;
    border: none;
    box-sizing: border-box;
    cursor: default;
    display: inline-flex;
    flex-flow: row nowrap;
    flex: none;
    font-family: @font-family;
    font-size: 1em;
    justify-content: center;
    min-height: 2em;
    min-width: 2em;
    outline: none;
    //overflow: hidden;
    padding: 0 0.375em;
    text-decoration: none;
    .unselectable();

    input[type=radio] {
        display: none;
    }

    &:hover:not(.disabled):not(.checked) {
        background-color: @color-control-hover;
    }

    &:active:not(.disabled),
    &.checked {
        background-color: @color-control-active;
    }

    .icon {
        display: inline-block;
        height: 1em;
        width: 1em;
    }

    .text {
        color: @color-control-fore;
        display: inline-block;
        font-size: 1em;
        line-height: 1em;
    }

    span {
        flex: none;
        margin: 0 0.125em;
        pointer-events: none;

        &.hidden {
            display: none;
        }
    }

    &.disabled {
        .disabled();
    }
}


/*-------
    VBOX
---------*/

.VBox {
    //border: 1px solid darkred;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    //flex: 1 0 auto;
    flex: none;

    > .flex-None {
        flex: none;
    }

    > .flex-Stretch {
        flex: 1 1 auto;
        //height: 100%; //?
    }

    > .flex-Grow {
        flex: 1 0 auto;
    }

    > .flex-Shrink {
        flex: 0 1 auto;
    }
    // Content alignment
    &.contentAlign-Top {
        justify-content: flex-start;
    }

    &.contentAlign-Middle {
        justify-content: center;
    }

    &.contentAlign-Bottom {
        justify-content: flex-end;
    }
    // Items alignment
    &.itemsAlign-Left {
        align-items: flex-start;
    }

    &.itemsAlign-Center {
        align-items: center;
    }

    &.itemsAlign-Right {
        align-items: flex-end;
    }

    &.itemsAlign-Stretch {
        align-items: stretch;
    }
    // Items indent
    &.itemsIndent-05 > :not(.hidden) ~ :not(.hidden) {
        margin-top: 0.5em;
    }

    &.itemsIndent-1 > :not(.hidden) ~ :not(.hidden) {
        margin-top: 1em;
    }

    &.itemsIndent-2 > :not(.hidden) ~ :not(.hidden) {
        margin-top: 2em;
    }

    &.itemsIndent-4 > :not(.hidden) ~ :not(.hidden) {
        margin-top: 4em;
    }
    // Scroll bar
    &.scrollBar-None {
        overflow: hidden;
    }

    &.scrollBar-Horizontal {
        overflow-x: auto;
        overflow-y: hidden;
    }

    &.scrollBar-Vertical {
        overflow-x: hidden;
        overflow-y: auto;
    }

    &.scrollBar-Both {
        overflow: auto;
    }
    // Wrapping
    &.wrapping-NoWrap {
        flex-wrap: nowrap;
    }

    &.wrapping-Wrap {
        flex-wrap: wrap;
    }

    &.disabled {
        pointer-events: none;

        > *:not(.disabled):not(.HBox):not(.VBox) {
            opacity: 0.5;
        }
    }
}


/*---------
    WINDOW
-----------*/

.Window {
    background-color: @color-back;
    box-sizing: border-box;
    font-family: @font-family;
    margin: 0;
    min-height: 100%;
    min-width: -moz-min-content;
    min-width: -webkit-min-content;
    padding: 0;
}

html {
    background-color: @color-back;
    height: 100%;
    width: 100%;
}

@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
    /* IE10+ specific styles go here */
    .Window {
        height: 100%; // Content didn't stretch vertically
    }
}

.hidden {
    display: none;
}
/*.visibility-Hidden {
    visibility: hidden;
}

.visibility-Collapsed {
    display: none;
}*/
